<Window x:Class="LicenciaSistemasAdmin.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Administrador de Licencias de Software"
        Height="520" Width="950"
        WindowStartupLocation="CenterScreen"
        Background="#F5F6FA">

    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition/>
        </Grid.RowDefinitions>

        <!-- FORMULARIO -->
        <GroupBox Header="Información de la Licencia"
                  FontWeight="Bold"
                  Padding="10"
                  Margin="0,0,0,15">

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="2*"/>
                    <ColumnDefinition Width="2*"/>
                    <ColumnDefinition Width="1.2*"/>
                </Grid.ColumnDefinitions>

                <!-- COLUMNA 1 -->
                <StackPanel>
                    <TextBlock Text="Nombre de la empresa"/>
                    <TextBox x:Name="txtEmpresa" Margin="0,3,0,10"/>

                    <TextBlock Text="Cuota total a pagar"/>
                    <TextBox x:Name="txtCuotaPagar" Margin="0,3,0,10"/>

                    <TextBlock Text="Cuota pagada"/>
                    <TextBox x:Name="txtCuotaPagada"/>
                </StackPanel>

                <!-- COLUMNA 2 -->
                <StackPanel Grid.Column="1" Margin="15,0">
                    <TextBlock Text="Código / Licencia"/>
                    <TextBox x:Name="txtCodigo" Margin="0,3,0,10"/>

                    <TextBlock Text="Estado del sistema"/>
                    <ComboBox x:Name="cbEstado" Height="28">
                        <ComboBoxItem Content="🟢 Habilitado" Tag="1"/>
                        <ComboBoxItem Content="🔴 Bloqueado" Tag="0"/>
                    </ComboBox>
                </StackPanel>

                <!-- COLUMNA 3 -->
                <StackPanel Grid.Column="2" VerticalAlignment="Bottom">
                    <Button Content="➕ Agregar"
                            Height="32"
                            Margin="0,0,0,6"
                            Background="#4CAF50"
                            Foreground="White"
                            Click="Agregar_Click"/>

                    <Button Content="✏️ Actualizar"
                            Height="32"
                            Margin="0,0,0,6"
                            Background="#2196F3"
                            Foreground="White"
                            Click="Actualizar_Click"/>

                    <Button Content="🗑 Eliminar"
                            Height="32"
                            Background="#F44336"
                            Foreground="White"
                            Click="Eliminar_Click"/>
                </StackPanel>

            </Grid>
        </GroupBox>

        <!-- TABLA -->
        <DataGrid x:Name="dgLicencias"
                  Grid.Row="1"
                  AutoGenerateColumns="False"
                  CanUserAddRows="False"
                  IsReadOnly="True"
                  AlternatingRowBackground="#EEEEEE">

            <DataGrid.Columns>
                <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="50"/>
                <DataGridTextColumn Header="Empresa" Binding="{Binding NombreEmpresa}" Width="*"/>
                <DataGridTextColumn Header="Cuota Total" Binding="{Binding CuotaPagar}" Width="*"/>
                <DataGridTextColumn Header="Cuota Pagada" Binding="{Binding CuotaPagada}" Width="*"/>
                <DataGridTextColumn Header="Código" Binding="{Binding NumeroHabilitacion}" Width="*"/>
                <DataGridTextColumn Header="Estado" Binding="{Binding Habilitado}" Width="90"/>
            </DataGrid.Columns>
        </DataGrid>
    </Grid>
</Window>
